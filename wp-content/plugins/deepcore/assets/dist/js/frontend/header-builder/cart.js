!function(n){"use strict";n(document).ready(function(){n(document).on("click",".mini_cart_item .remove",function(a){var t=n(this),e=n('<div class="wn-circle-side-wrap"><div data-loader="wn-circle-side"></div></div>'),o=t.data("product_id");a.preventDefault(),e.appendTo(n(this).closest(".wn-header-woo-cart")),n.ajax({url:woocommerce_params.ajax_url,type:"POST",dataType:"html",data:{action:"wn_woo_ajax_update_cart",cart_product_id:o},success:function(a){n(".wn-header-woo-cart-wrap").html(a),e.remove(),t.closest(".wn-header-woo-cart").slideDown(),setTimeout(function(){t.find(".wn-ajax-error").remove()},400);a=n(".wn-count-cart-product").attr("data-items");n("span.header-cart-count-icon").text(a)},error:function(a,t,e){}})}),n(".single-product .add_to_cart_button").removeClass("ajax_add_to_cart"),n(document).on("click",".single-product .add_to_cart_button",function(a){a.preventDefault();var a=n(this),t=n('<div class="wn-circle-side-wrap"><div data-loader="wn-circle-side"></div></div>'),e=n("#webnus-header-builder").find(".whb-screen-view:not(.whb-sticky-view)").find(".wn-header-woo-cart"),o=a.data("product_id"),r=a.prev().find("input.qty").val(),a=a.parent().find("input.variation_id").val();n("html, body").animate({scrollTop:0},700),e.append(t),e.hasClass("open-cart")||e.addClass("is-open").slideDown(),n("#wn-cart-modal-icon").hasClass("open-cart")||n("#wn-cart-modal-icon").addClass("open-cart"),n.ajax({url:woocommerce_params.ajax_url,type:"POST",dataType:"html",data:{action:"wn_woo_ajax_add_to_cart",product_id:o,quantity:r,variation_id:a},success:function(a){n(".wn-header-woo-cart-wrap").html(a),e.find(".wn-circle-side-wrap").remove();a=n(".wn-count-cart-product").attr("data-items");n(".whb-cart").find(".wn-cart-modal-icon").find(".header-cart-count-icon").text(a).attr("data-cart_count",a)},error:function(a,t,e){}})}),n("#webnus-header-builder").find(".whb-cart").on("click","#wn-cart-modal-icon",function(a){a.preventDefault(),n(this).hasClass("open-cart")?(n(this).removeClass("open-cart"),n(this).closest(".whb-cart").removeClass("is-open"),n(this).closest(".whb-cart").find(".wn-header-woo-cart").addClass("is-open").slideUp(300)):(n(this).addClass("open-cart"),n(this).closest(".whb-cart").addClass("is-open"),n(this).closest(".whb-cart").find(".wn-header-woo-cart").removeClass("is-open").slideDown(300))}),n(document).on("click",function(a){var t=n(a.target);"wn-cart-modal-icon"==a.target.id||"header-cart-icon"==a.target.id||"header-cart-count-icon"==a.target.id||t.hasClass("add_to_cart_button")||t.parent().hasClass("add_to_cart_button")||(a=n("#webnus-header-builder").find(".whb-cart").find("#wn-cart-modal-icon")).hasClass("open-cart")&&(a.removeClass("open-cart"),a.closest(".whb-cart").removeClass("is-open"),a.closest(".whb-cart").find(".wn-header-woo-cart").slideUp(300))}),n(document).on("click","#wn-header-woo-cart",function(a){a.stopPropagation()})})}(jQuery);